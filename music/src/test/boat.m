clear all, close all, clc;

Fs = 8000;
beat_len = 0.5;

ratio = 2^(1/12);

tunes = get_tunes('F');

low = @(x) x;
mid = @(x) x + 7;
high = @(x) x + 14;
pause = @(x) 22;

song1 = [...
    mid(5), 2; mid(6), 1; mid(5), 2; mid(3), 1; mid(5), 1; mid(3), 0.5; mid(2), 0.5; mid(1), 1; low(5), 3; ...
    low(6), 2; mid(1), 1; mid(2), 2; mid(5), 1; mid(3), 6; ...
    mid(5), 2; mid(6), 1; mid(5), 2; mid(3), 1; mid(5), 1; mid(3), 0.5; mid(2), 0.5; mid(1), 1; low(5), 3; ...
    low(6), 2; mid(1), 1; low(5), 2; mid(2), 1; mid(1), 6; ...
    mid(3), 2; mid(3), 1; mid(3), 2; mid(2), 1; mid(3), 2; mid(6), 1; mid(5), 3; ...
    mid(3), 2; mid(2), 1; mid(3), 2; mid(6), 1; mid(5), 6; ...
    high(1), 3; mid(5), 2; mid(5), 1; mid(3), 2; mid(5), 1; mid(6), 3; ...
    mid(5), 1; mid(3), 1; mid(1), 1; low(5), 2; mid(2), 1; mid(1), 6; ...
    pause(0), 1];

song2 = [...
    mid(5), 2; mid(6), 1; mid(5), 2; mid(3), 1; mid(5), 1; mid(3), 0.5; mid(2), 0.5; mid(1), 1; low(5), 3; ...
    low(6), 2; mid(1), 1; mid(2), 2; mid(5), 1; mid(3), 6; ...
    mid(5), 2; mid(6), 1; mid(5), 2; mid(3), 1; mid(5), 1; mid(3), 0.5; mid(2), 0.5; mid(1), 1; low(5), 3; ...
    low(6), 2; mid(1), 1; low(5), 2; mid(2), 1; mid(1), 6; ...
    mid(1), 2; mid(1), 1; mid(1), 2; low(7), 1; low(6), 2; mid(1), 1; low(7), 3; ...
    mid(1), 2; low(7), 1; low(6), 2; mid(1), 1; low(7), 6; ...
    mid(3), 3; low(7), 2; low(7), 1; low(6), 2; low(7), 1; mid(1), 4; ...
    low(5), 1; low(6), 1; low(5), 2; low(7), 1; mid(1), 6; ...
    pause(0), 2];

song3 = [...
    low(1), 1; low(2), 0.5; pause(0), 0.5; low(2), 0.5; pause(0), 0.5; low(1), 1; low(2), 0.5; pause(0), 0.5; low(2), 0.5; pause(0), 0.5; low(1), 1; low(2), 0.5; pause(0), 0.5; low(2), 0.5; pause(0), 0.5; low(1), 1; low(2), 0.5; pause(0), 0.5; low(2), 0.5; pause(0), 0.5; ...
    low(1), 1; low(2), 0.5; pause(0), 0.5; low(2), 0.5; pause(0), 0.5; low(1), 1; low(2), 0.5; pause(0), 0.5; low(2), 0.5; pause(0), 0.5; low(1), 1; low(2), 0.5; pause(0), 0.5; low(2), 0.5; pause(0), 0.5; low(1), 1; low(2), 0.5; pause(0), 0.5; low(2), 0.5; pause(0), 0.5; ...
    low(1), 1; low(2), 0.5; pause(0), 0.5; low(2), 0.5; pause(0), 0.5; low(1), 1; low(2), 0.5; pause(0), 0.5; low(2), 0.5; pause(0), 0.5; low(1), 1; low(2), 0.5; pause(0), 0.5; low(2), 0.5; pause(0), 0.5; low(1), 1; low(2), 0.5; pause(0), 0.5; low(2), 0.5; pause(0), 0.5; ...
    low(1), 1; low(2), 0.5; pause(0), 0.5; low(2), 0.5; pause(0), 0.5; low(1), 1; low(2), 0.5; pause(0), 0.5; low(2), 0.5; pause(0), 0.5; low(1), 1; low(2), 0.5; pause(0), 0.5; low(2), 0.5; pause(0), 0.5; low(1), 1; low(2), 0.5; pause(0), 0.5; low(2), 0.5; pause(0), 0.5; ...
    low(1), 1; low(2), 0.5; pause(0), 0.5; low(2), 0.5; pause(0), 0.5; low(1), 1; low(2), 0.5; pause(0), 0.5; low(2), 0.5; pause(0), 0.5; low(1), 1; low(2), 0.5; pause(0), 0.5; low(2), 0.5; pause(0), 0.5; low(1), 1; low(2), 0.5; pause(0), 0.5; low(2), 0.5; pause(0), 0.5; ...
    low(1), 1; low(2), 0.5; pause(0), 0.5; low(2), 0.5; pause(0), 0.5; low(1), 1; low(2), 0.5; pause(0), 0.5; low(2), 0.5; pause(0), 0.5; low(1), 1; low(2), 0.5; pause(0), 0.5; low(2), 0.5; pause(0), 0.5; low(1), 1; low(2), 0.5; pause(0), 0.5; low(2), 0.5; pause(0), 0.5; ...
    low(1), 1; low(2), 0.5; pause(0), 0.5; low(2), 0.5; pause(0), 0.5; low(1), 1; low(2), 0.5; pause(0), 0.5; low(2), 0.5; pause(0), 0.5; low(1), 1; low(2), 0.5; pause(0), 0.5; low(2), 0.5; pause(0), 0.5; low(1), 1; low(2), 0.5; pause(0), 0.5; low(2), 0.5; pause(0), 0.5; ...
    low(1), 1; low(2), 0.5; pause(0), 0.5; low(2), 0.5; pause(0), 0.5; low(1), 1; low(2), 0.5; pause(0), 0.5; low(2), 0.5; pause(0), 0.5; low(1), 1; low(2), 0.5; pause(0), 0.5; low(2), 0.5; pause(0), 0.5; low(1), 1; low(2), 0.5; pause(0), 0.5; low(2), 1.5; ...
    pause(0), 12];

res1 = produce(song1, tunes, Fs, beat_len, [1; 0.2; 0.1]);
res2 = produce(song2, tunes, Fs, beat_len, [1; 0.2; 0.1]);
res3 = produce(song3, tunes, Fs, beat_len, [1; 0.2; 0.1]);

len1 = length(res1);
len2 = length(res2);
len3 = length(res3);

if len2 > len1
    res2 = res2(1:len1);
end
if len3 > len1
    res3 = res3(1:len1);
end

res = res1 + 0.35 * res2 + 0.35 * res3;
res = res * 0.5;
sound(res, Fs);
